# Auth (NextAuth.js)
NEXTAUTH_SECRET=replace-with-a-random-secret
NEXTAUTH_URL=http://localhost:3000

# Optional GitHub OAuth (enable if you want real OAuth)
GITHUB_ID=
GITHUB_SECRET=

# Vercel Postgres
# When you add Vercel Postgres in the Vercel dashboard, these are added automatically.
POSTGRES_URL=
POSTGRES_URL_NON_POOLING=
POSTGRES_USER=
POSTGRES_PASSWORD=
POSTGRES_HOST=
POSTGRES_DATABASE=

# Admin features removed â€” no admin-specific env required

# Seeding/maintenance secret for protected endpoints
SEED_SECRET=replace-with-a-random-seed-key

# Pusher (Realtime for Study Rooms)
# Server-side
PUSHER_APP_ID=
PUSHER_KEY=
PUSHER_SECRET=
PUSHER_CLUSTER=

# Client-side
NEXT_PUBLIC_PUSHER_KEY=
NEXT_PUBLIC_PUSHER_CLUSTER=

# Dev-only request throttle (safety net)
# Set to 0 to disable
DEV_THROTTLE=1
DEV_MAX_RPS=60
DEV_BURST=120

NEXT_PUBLIC_DEV_THROTTLE=1
NEXT_PUBLIC_DEV_MAX_RPS=30
NEXT_PUBLIC_DEV_BURST=60
NEXT_PUBLIC_DEV_MAX_CONCURRENT=16
NEXT_PUBLIC_DEV_CANCEL_DUP_MS=200

# Production/global API throttle (edge + route handlers)
API_EDGE_THROTTLE=1
API_EDGE_MAX_RPS=300
API_EDGE_BURST=600

API_THROTTLE=1
API_MAX_RPS=200
API_BURST=400
API_MAX_CONCURRENT=64
API_BREAKER_ENABLED=1
API_BREAKER_WINDOW_MS=2000
API_BREAKER_TRIGGER_DROPS=100
API_BREAKER_OPEN_SECS=10

# Client fetch guard (works in dev/prod)
NEXT_PUBLIC_FETCH_GUARD=1
NEXT_PUBLIC_FETCH_MAX_RPS=30
NEXT_PUBLIC_FETCH_BURST=60
NEXT_PUBLIC_FETCH_MAX_CONCURRENT=16
NEXT_PUBLIC_FETCH_CANCEL_DUP_MS=200

# Global sitewide throttle (RPM)
GLOBAL_RPM_ENABLED=1
GLOBAL_RPM=250
RATE_PREFIX=rate:global
GLOBAL_RPM_BYPASS_TOKEN=

# Optional: Upstash Redis REST for global throttle (recommended for prod)
# Obtain from Upstash console and set both values to enable distributed limits.
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

# Fair-share per-IP throttle (minute)
IP_RPM_ENABLED=1
IP_RPM=120

# Per-user throttle (minute) for authenticated users
USER_RPM_ENABLED=1
USER_RPM=180
