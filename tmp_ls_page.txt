                      </button>
                    </li>
                  );
                })}
              </ul>
              {/* Footer actions */}
              <div className="mt-2 flex justify-end">
                <button type="button" className="rounded-full bg-indigo-600 px-3 py-1 text-xs font-semibold text-white hover:bg-indigo-700">Practice all</button>
              </div>
            </div>
          </aside>
        )}

        {/* Middle: Main */}
        <div className="space-y-4">
          {/* Video embed */}
          <div className="relative overflow-hidden rounded-2xl border bg-white shadow-sm ring-1 ring-black/5">
            <div className="relative w-full" style={{ paddingTop: '56.25%' }}>
              {((() => { const p = player?.iframeSrc; if (p) return p; const g = guest?.player?.iframeSrc; if (g) return g; const h = guest?.html || ""; const m = h.match(/<iframe[^>]*src=\"([^\"]+)\"/i); if (m?.[1]) return m[1]; const y = h.match(/https?:\\/\\/(?:www\\.)?(?:youtube\\.com\\/watch\\?v=|youtu\\.be\\/)([A-Za-z0-9_-]+)/i); if (y?.[1]) return `https://www.youtube-nocookie.com/embed/${y[1]}`; return ""; })()) ? (
                <iframe
                  className="absolute inset-0 h-full w-full"
                  src={((() => { const p = player?.iframeSrc; if (p) return p; const g = guest?.player?.iframeSrc; if (g) return g; const h = guest?.html || ""; const m = h.match(/<iframe[^>]*src=\"([^\"]+)\"/i); if (m?.[1]) return m[1]; const y = h.match(/https?:\\/\\/(?:www\\.)?(?:youtube\\.com\\/watch\\?v=|youtu\\.be\\/)([A-Za-z0-9_-]+)/i); if (y?.[1]) return `https://www.youtube-nocookie.com/embed/${y[1]}`; return ""; })()) as string}
                  title="Lesson video"
                  allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                  allowFullScreen
                  loading="lazy"
                  style={{ border: 0 }}
                />
              ) : (
                <div className="absolute inset-0 grid place-items-center bg-gray-100 text-gray-500">No video</div>
              )}
              {player?.locked && (
                <div className="absolute inset-0 grid place-items-center bg-white/80 backdrop-blur-sm">
